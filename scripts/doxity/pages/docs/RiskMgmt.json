{"author":"Melonport AG <team@melonport.com>","title":"Risk Management Contract","fileName":"/./src/riskmgmt/RiskMgmt.sol","name":"RiskMgmt","abi":[{"constant":false,"inputs":[{"name":"orderPrice","type":"uint256"},{"name":"referencePrice","type":"uint256"},{"name":"sellAsset","type":"address"},{"name":"buyAsset","type":"address"},{"name":"sellQuantity","type":"uint256"},{"name":"buyQuantity","type":"uint256"}],"name":"isMakePermitted","outputs":[{"name":"isPermitted","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"orderPrice","type":"uint256"},{"name":"referencePrice","type":"uint256"},{"name":"sellAsset","type":"address"},{"name":"buyAsset","type":"address"},{"name":"sellQuantity","type":"uint256"},{"name":"buyQuantity","type":"uint256"}],"name":"isTakePermitted","outputs":[{"name":"isPermitted","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}],"bin":"6060604052341561000f57600080fd5b6101bc8061001e6000396000f30060606040526000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806371ad3e731461004857806380603faa146100dc57600080fd5b341561005357600080fd5b6100c2600480803590602001909190803590602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091908035906020019091905050610170565b604051808215151515815260200191505060405180910390f35b34156100e757600080fd5b610156600480803590602001909190803590602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091908035906020019091905050610180565b604051808215151515815260200191505060405180910390f35b6000600190509695505050505050565b60006001905096955050505050505600a165627a7a7230582064be8629d7ae085ba8de28e899966ceb7091c8598e822df21fa35386d06ea1a40029","opcodes":"PUSH1 0x60 PUSH1 0x40 MSTORE CALLVALUE ISZERO PUSH2 0xF JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x1BC DUP1 PUSH2 0x1E PUSH1 0x0 CODECOPY PUSH1 0x0 RETURN STOP PUSH1 0x60 PUSH1 0x40 MSTORE PUSH1 0x0 CALLDATALOAD PUSH29 0x100000000000000000000000000000000000000000000000000000000 SWAP1 DIV PUSH4 0xFFFFFFFF AND DUP1 PUSH4 0x71AD3E73 EQ PUSH2 0x48 JUMPI DUP1 PUSH4 0x80603FAA EQ PUSH2 0xDC JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE ISZERO PUSH2 0x53 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0xC2 PUSH1 0x4 DUP1 DUP1 CALLDATALOAD SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 DUP1 CALLDATALOAD SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 DUP1 CALLDATALOAD PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 DUP1 CALLDATALOAD PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 DUP1 CALLDATALOAD SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 DUP1 CALLDATALOAD SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 POP POP PUSH2 0x170 JUMP JUMPDEST PUSH1 0x40 MLOAD DUP1 DUP3 ISZERO ISZERO ISZERO ISZERO DUP2 MSTORE PUSH1 0x20 ADD SWAP2 POP POP PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST CALLVALUE ISZERO PUSH2 0xE7 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x156 PUSH1 0x4 DUP1 DUP1 CALLDATALOAD SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 DUP1 CALLDATALOAD SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 DUP1 CALLDATALOAD PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 DUP1 CALLDATALOAD PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 DUP1 CALLDATALOAD SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 DUP1 CALLDATALOAD SWAP1 PUSH1 0x20 ADD SWAP1 SWAP2 SWAP1 POP POP PUSH2 0x180 JUMP JUMPDEST PUSH1 0x40 MLOAD DUP1 DUP3 ISZERO ISZERO ISZERO ISZERO DUP2 MSTORE PUSH1 0x20 ADD SWAP2 POP POP PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST PUSH1 0x0 PUSH1 0x1 SWAP1 POP SWAP7 SWAP6 POP POP POP POP POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x1 SWAP1 POP SWAP7 SWAP6 POP POP POP POP POP POP JUMP STOP LOG1 PUSH6 0x627A7A723058 KECCAK256 PUSH5 0xBE8629D7AE ADDMOD JUMPDEST 0xa8 0xde 0x28 0xe8 SWAP10 SWAP7 PUSH13 0xEB7091C8598E822DF21FA35386 0xd0 PUSH15 0xA1A400290000000000000000000000 ","source":"pragma solidity ^0.4.11;\n\nimport './RiskMgmtInterface.sol';\n\n/// @title Risk Management Contract\n/// @dev isMakePermitted and isTakePermitted can be extended to define custom risk management logic using order and reference prices\n/// @author Melonport AG <team@melonport.com>\ncontract RiskMgmt is RiskMgmtInterface {\n\n    // NON-CONSTANT METHODS\n\n    /// @notice Checks if the makeOrder price is reasonable and not manipulative\n    /// @param orderPrice Price of Order\n    /// @param referencePrice Reference price obtained through DataFeed contract\n    /// @param sellAsset Asset (as registered in Asset registrar) to be sold\n    /// @param buyAsset Asset (as registered in Asset registrar) to be bought\n    /// @param sellQuantity Quantity of sellAsset to be sold\n    /// @param buyQuantity Quantity of buyAsset to be bought\n    /// @return isPermitted If makeOrder is permitted\n    function isMakePermitted(\n        uint orderPrice,\n        uint referencePrice,\n        address sellAsset,\n        address buyAsset,\n        uint sellQuantity,\n        uint buyQuantity\n    )\n        returns (bool isPermitted)\n    {\n        return true; // For testing purposes\n    }\n\n    /// @notice Checks if the makeOrder price is reasonable and not manipulative\n    /// @param orderPrice Price of Order\n    /// @param referencePrice Reference price obtained through DataFeed contract\n    /// @param sellAsset Asset (as registered in Asset registrar) to be sold\n    /// @param buyAsset Asset (as registered in Asset registrar) to be bought\n    /// @param sellQuantity Quantity of sellAsset to be sold\n    /// @param buyQuantity Quantity of buyAsset to be bought\n    /// @return isPermitted If takeOrder is permitted\n    function isTakePermitted(\n        uint orderPrice,\n        uint referencePrice,\n        address sellAsset,\n        address buyAsset,\n        uint sellQuantity,\n        uint buyQuantity\n    )\n        returns (bool isPermitted)\n    {\n        return true; // For testing purposes\n    }\n}\n","abiDocs":[{"constant":false,"inputs":[{"name":"orderPrice","type":"uint256","description":"Price of Order"},{"name":"referencePrice","type":"uint256","description":"Reference price obtained through DataFeed contract"},{"name":"sellAsset","type":"address","description":"Asset (as registered in Asset registrar) to be sold"},{"name":"buyAsset","type":"address","description":"Asset (as registered in Asset registrar) to be bought"},{"name":"sellQuantity","type":"uint256","description":"Quantity of sellAsset to be sold"},{"name":"buyQuantity","type":"uint256","description":"Quantity of buyAsset to be bought"}],"name":"isMakePermitted","outputs":[{"name":"isPermitted","type":"bool","description":"If makeOrder is permitted"}],"payable":false,"stateMutability":"nonpayable","type":"function","return":"isPermitted If makeOrder is permitted","notice":"Checks if the makeOrder price is reasonable and not manipulative","signature":"isMakePermitted(uint256,uint256,address,address,uint256,uint256)","signatureHash":"71ad3e73"},{"constant":false,"inputs":[{"name":"orderPrice","type":"uint256","description":"Price of Order"},{"name":"referencePrice","type":"uint256","description":"Reference price obtained through DataFeed contract"},{"name":"sellAsset","type":"address","description":"Asset (as registered in Asset registrar) to be sold"},{"name":"buyAsset","type":"address","description":"Asset (as registered in Asset registrar) to be bought"},{"name":"sellQuantity","type":"uint256","description":"Quantity of sellAsset to be sold"},{"name":"buyQuantity","type":"uint256","description":"Quantity of buyAsset to be bought"}],"name":"isTakePermitted","outputs":[{"name":"isPermitted","type":"bool","description":"If takeOrder is permitted"}],"payable":false,"stateMutability":"nonpayable","type":"function","return":"isPermitted If takeOrder is permitted","notice":"Checks if the makeOrder price is reasonable and not manipulative","signature":"isTakePermitted(uint256,uint256,address,address,uint256,uint256)","signatureHash":"80603faa"}]}
