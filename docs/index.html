<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>@melonproject/protocol</title><link href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.css" rel="stylesheet"/><link href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAOVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAABMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlVggfAAAAE3RSTlPkZE7emXPXAMzHihi+QAwqs6mhB70WSgAAAQFJREFUOMuFk1mSwyAMRAUWhH3J/Q8bFikxNp7pn7hKL12qbgGvfwS/T6Utqfgd4DUYAt5qBziAgwwQ8x3I0DQtEFHdgdqBYVEbgPEKRBhqe4Y+R5cugJ0AtA0HgHIFBM1BT4Nm4RfAHCzFiguAhqQekvQ0D+kpajUB8dhFCn1e/ihLdIAWc3nXRTEGKXX+WIFoDP2xfq3We0A3f+WyzAnIM7tU+jZyA5y3/QVyA3xYI70BjkNfy5IsoVlurZtKxsC9g1zLonm1mi/nsoMkA8unFa9luWlgyaLecogdGFd/dMBvHg5iGYBpc7eJOuObXt4BOm0fbyDAwPZtvrxgnS/3AwT9GsisQa84AAAAAElFTkSuQmCC" rel="icon"/><style>@import url(https://fonts.googleapis.com/css?family=Roboto:400,700|Roboto+Mono);@media only screen and (max-width:767px){[class*="computer only"]:not(.mobile),[class*="large screen only"]:not(.mobile),[class*="mobile hidden"],[class*="or lower hidden"],[class*="tablet only"]:not(.mobile),[class*="widescreen only"]:not(.mobile){display:none!important}}@media only screen and (min-width:768px) and (max-width:991px){[class*="computer only"]:not(.tablet),[class*="large screen only"]:not(.tablet),[class*="mobile only"]:not(.tablet),[class*="or lower hidden"]:not(.mobile),[class*="tablet hidden"],[class*="widescreen only"]:not(.tablet){display:none!important}}@media only screen and (min-width:992px) and (max-width:1199px){[class*="computer hidden"],[class*="large screen only"]:not(.computer),[class*="mobile only"]:not(.computer),[class*="or lower hidden"]:not(.tablet):not(.mobile),[class*="tablet only"]:not(.computer),[class*="widescreen only"]:not(.computer){display:none!important}}@media only screen and (min-width:1200px) and (max-width:1919px){[class*="computer only"]:not([class*="large screen"]),[class*="large screen hidden"],[class*="mobile only"]:not([class*="large screen"]),[class*="or lower hidden"]:not(.computer):not(.tablet):not(.mobile),[class*="tablet only"]:not([class*="large screen"]),[class*="widescreen only"]:not([class*="large screen"]){display:none!important}}@media only screen and (min-width:1920px){[class*="computer only"]:not([class*=widescreen]),[class*="large screen only"]:not([class*=widescreen]),[class*="mobile only"]:not([class*=widescreen]),[class*="tablet only"]:not([class*=widescreen]),[class*="widescreen hidden"],[class*="widescreen or lower hidden"]{display:none!important}}.ui.header,.ui.menu,body,h1,h2,h3,h4,h5{font-family:Roboto,sans-serif}pre.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}code{padding:0 .3em}code,pre{font-family:Roboto Mono,monospace;border:1px solid rgba(0,0,0,.05);background:rgba(0,0,0,.01)}code>code,pre>code{border:none;background:none}pre{padding:1em}.vertical.menu .item{overflow:hidden;text-overflow:ellipsis}.vertical.menu .item.active{overflow:visible}.pusher{display:flex;min-height:100vh;flex-direction:column}.pusher>.container:not(.footer){flex:1}.pusher>.footer{height:auto;margin-top:2em}.header code.signature{font-size:.6em}.ui.method-input{max-width:6em;overflow:hidden;text-overflow:ellipsis;text-align:right}.ui.method-input input{background:hsla(0,0%,100%,.7)}.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style></head><body><div id="react-mount"><div style="padding-top:60px;" class="pusher" data-reactroot="" data-reactid="1" data-react-checksum="1201493182"><div class="ui top fixed inverted menu" data-reactid="2"><div class="ui container" data-reactid="3"><a class="header item" href="/protocol/" data-reactid="4"><!-- react-text: 5 -->@melonproject/protocol<!-- /react-text --><div class="ui grey label" data-reactid="6">0.4.0-live.2</div></a><div class="item mobile hidden" data-reactid="7">Technology Regulated Investment Funds</div><div class="right menu" data-reactid="8"><a class="item" href="/protocol/docs/Asset/" data-reactid="9">Contracts</a><a target="_blank" href="https://github.com/melonproject/protocol#readme" class="item" data-reactid="10"><i class="home icon" data-reactid="11"></i></a></div></div></div><div class="ui container" data-reactid="12"><div class="markdown" data-reactid="13"><h1 data-reactid="14"></h1><div data-reactid="15"><img src = "https://github.com/melonproject/branding/blob/master/melon/03_M_logo.jpg" width = "25%">
<h1>protocol</h1>
<p>Melon ([méllō], μέλλω; Greek for “destined to be”) is blockchain software that seeks to enable participants to set up, manage and invest in technology regulated investment funds in a way that reduces barriers to entry while minimizing the requirements for trust.</p>
<p>It does so by leveraging off the fact that digital assets on distributed quasi turing complete machines can be held solely by smart-contract code and spent only if its preprogrammed within this code. The Melon protocol is a set of rules for how digital assets can be spent once held in a Melon smart-contract, or a Melon investment fund. It’s meant to protect the investor and fund manager from malevolent behaviour of each other even when both parites remain private.</p>
<p>Melon is for investment funds what Bitcoin is for accounting, a set of rules, enforced by blockchain technology, legitimized by the consent of its participants.</p>
<p>This repository contains a reference implementation of the Melon protocol written in Solidity, as specified in our <a href="https://github.com/melonproject/paper/blob/master/melonprotocol.pdf">paper</a>.</p>
<p><a href="https://gitter.im/melonproject/general?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://img.shields.io/gitter/room/melonproject/general.js.svg?style=flat-square" alt="Gitter"></a>
<a href="https://travis-ci.org/melonproject/protocol"><img src="https://travis-ci.org/melonproject/protocol.svg?branch=master" alt="Build Status"></a>
<a href="./LICENSE"><img src="https://img.shields.io/badge/License-GPL%20v3-blue.svg?style=flat-square" alt="License: GPL v3"></a>
<a href="https://coveralls.io/github/melonproject/protocol?branch=master"><img src="https://coveralls.io/repos/github/melonproject/protocol/badge.svg?branch=master" alt="Coverage Status"></a></p>
<h2>Table of Contents</h2>
<ul>
<li><a href="#implementation-overview">Implementation</a>
<ul>
<li><a href="#governance">Governance</a></li>
<li><a href="#funds">Funds</a></li>
<li><a href="#modules">Modules</a></li>
</ul>
</li>
<li><a href="#interaction">Interaction</a></li>
<li><a href="#get-started">Get started</a>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#linting">Linting</a></li>
<li><a href="#deployment">Deployment</a></li>
</ul>
</li>
<li><a href="#contribute">Contribute</a>
<ul>
<li><a href="#security-issues">Security Issues</a></li>
<li><a href="#protocol-design">Protocol Design</a></li>
<li><a href="#implementation-design">Implementation Design</a></li>
</ul>
</li>
</ul>
<h2>Implementation</h2>
<h3>Governance</h3>
<img src = "https://github.com/melonproject/branding/blob/master/explanation/governance.png" width = "100%">
<p>The main functionality of the <a href="src/system/Governance.sol">Governance</a> contract is to add new protocol <em>versions</em> such as this <a href="src/version/Version.sol">Version</a> contract and to shut down existing versions once they become obsolete.</p>
<p>Adding new protocol version is done by anyone <em>proposing</em> a version to be added and is <em>executed</em> once authority consensus has been established.</p>
<p>Shutting down an existing protocol version is done by anyone <em>proposing</em> a version to be shut down and is <em>executed</em> once authority consensus has been established.</p>
<p>Shutting down a version disables the ability to setup new funds using this version and enables anyone to shut down any existing funds of this version.</p>
<h3>Funds</h3>
<p>The Compliance module takes as input the following parameters:</p>
<p><strong>Requests:</strong> Describes and logs whenever asset enter and leave fund due to Participants</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>participant</td>
<td><code>address</code></td>
<td>Participant in Melon fund requesting subscription or redemption</td>
</tr>
<tr>
<td>status</td>
<td><code>enum</code></td>
<td>Enum: active, cancelled, executed; Status of request</td>
</tr>
<tr>
<td>requestType</td>
<td><code>enum</code></td>
<td>Enum: subscribe, redeem</td>
</tr>
<tr>
<td>shareQuantity</td>
<td><code>uint256</code></td>
<td>Quantity of Melon fund shares</td>
</tr>
<tr>
<td>giveQuantity</td>
<td><code>uint256</code></td>
<td>Quantity in Melon asset to give to Melon fund to receive shareQuantity</td>
</tr>
<tr>
<td>receiveQuantity</td>
<td><code>uint256</code></td>
<td>Quantity in Melon asset to receive from Melon fund for given shareQuantity</td>
</tr>
<tr>
<td>incentiveQuantity</td>
<td><code>uint256</code></td>
<td>Quantity in Melon asset to give to person executing request</td>
</tr>
<tr>
<td>lastPriceFeedUpdateId</td>
<td><code>uint256</code></td>
<td>Data feed module specific id of last update</td>
</tr>
<tr>
<td>lastPriceFeedUpdateTime</td>
<td><code>uint256</code></td>
<td>Data feed module specific timestamp of last update</td>
</tr>
<tr>
<td>timestamp</td>
<td><code>uint256</code></td>
<td>Time of request creation</td>
</tr>
</tbody>
</table>
<p>While the Risk Management module takes as input the following parameters:</p>
<p><strong>Orders:</strong> Describes and logs whenever assets enter and leave fund due to Manager</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>exchangeId</td>
<td><code>uint256</code></td>
<td>Id as returned from exchange</td>
</tr>
<tr>
<td>status</td>
<td><code>enum</code></td>
<td>Enum: active, partiallyFilled, fullyFilled, cancelled</td>
</tr>
<tr>
<td>orderType</td>
<td><code>enum</code></td>
<td>Enum: make, take</td>
</tr>
<tr>
<td>sellAsset</td>
<td><code>address</code></td>
<td>Asset (as registered in Asset registrar) to be sold</td>
</tr>
<tr>
<td>buyAsset</td>
<td><code>address</code></td>
<td>Asset (as registered in Asset registrar) to be bought</td>
</tr>
<tr>
<td>sellQuantity</td>
<td><code>uint256</code></td>
<td>Quantity of sellAsset to be sold</td>
</tr>
<tr>
<td>buyQuantity</td>
<td><code>uint256</code></td>
<td>Quantity of sellAsset to be bought</td>
</tr>
<tr>
<td>timestamp</td>
<td><code>uint256</code></td>
<td>Time in seconds when this order was created</td>
</tr>
<tr>
<td>fillQuantity</td>
<td><code>uint256</code></td>
<td>Buy quantity filled; Always less than buy_quantity</td>
</tr>
</tbody>
</table>
<h3>Modules</h3>
<img src = "https://github.com/melonproject/branding/blob/master/explanation/fund.png" width = "100%">
<h3>List of Melon modules</h3>
<p>Melon has six different module classes:</p>
<ul>
<li>Exchange Adapters</li>
<li>Rewards</li>
<li>Compliance</li>
<li>Risk Management</li>
<li>Asset registrars</li>
<li>Data feeds</li>
</ul>
<p>Which can be categorized into three sub sets:</p>
<ul>
<li>Libraries</li>
<li>Boolean function</li>
<li>Infrastructure</li>
</ul>
<h4>Libraries</h4>
<p>They interact with the Melon protocol using as pre-linked libraries to the Melon version contract. These Melon modules are:</p>
<ul>
<li>
<p><strong>Exchange Adapters</strong>:
These are adapters between Melon protocol and decentralized exchanges. Responsible for relaying information, making and taking orders on exchanges.</p>
</li>
<li>
<p><strong>Rewards</strong>:
This module defines functions for calculating management and performance rewards for the fund manager. Management reward is calculated on the time managed irrespective of performance of the fund while performance reward is calculated based on the performance.</p>
</li>
</ul>
<h4>Boolean functions</h4>
<p>They interact with the Melon protocol using boolean functions. That is functions which take a certain set of inputs and return either true or false. These Melon modules are:</p>
<ul>
<li>
<p><strong>Compliance</strong>:
It comprises of two primary boolean functions isSubscriptionPermitted and isRedemptionPermitted which enforce rules for investing and redemption from the fund. They take the parameter inputs as specified in the earlier section.</p>
</li>
<li>
<p><strong>Risk Management</strong>:
It currently comprises of two boolean functions isMakePermitted and isTakePermitted. They take the parameter inputs as specified in the earlier section. This module can be extended with custom logic to prevent malevolent actions by the fund manager. This may include checks if the order price is significantly different from the reference price, e.t.c.</p>
</li>
</ul>
<h4>Infrastructure</h4>
<p>These are security critical infrastructure modules. These Melon modules are:</p>
<ul>
<li><strong>Asset registrars</strong>:
It is a chain independent asset registrar module. Only the registered assets will be available. Cross-chain asset integration is enabled through Polkadot in future. An asset can be registered via the register function by specifying the following parameters:</li>
</ul>
<table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>asset</td>
<td><code>address</code></td>
<td>Address of the asset</td>
</tr>
<tr>
<td>name</td>
<td><code>string</code></td>
<td>Human-readable name of the Asset as in ERC223 token standard</td>
</tr>
<tr>
<td>symbol</td>
<td><code>string</code></td>
<td>Human-readable symbol of the Asset as in ERC223 token standard</td>
</tr>
<tr>
<td>decimal</td>
<td><code>uint</code></td>
<td>Decimal, order of magnitude of precision, of the Asset as in ERC223 token standard</td>
</tr>
<tr>
<td>url</td>
<td><code>string</code></td>
<td>URL for extended information of the asset</td>
</tr>
<tr>
<td>ipfsHash</td>
<td><code>bytes32</code></td>
<td>Same as url but for ipfs</td>
</tr>
<tr>
<td>chainid</td>
<td><code>bytes32</code></td>
<td>Chain where the asset resides</td>
</tr>
<tr>
<td>breakIn</td>
<td><code>address</code></td>
<td>Break in contract on destination chain</td>
</tr>
<tr>
<td>breakOut</td>
<td><code>address</code></td>
<td>Break out contract on this chain</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Data feeds</strong>:
Data feeds route external information such as asset prices to Melon fund smart contracts.</li>
</ul>
<p>The reason they are security critical is that the correctness of the data they provide cannot directly be enforced or guaranteed and trust is placed on a central authority.</p>
<h2>Interaction</h2>
<p>Smart contract interaction for the following scenarios:</p>
<ul>
<li>Setup of a new Melon fund</li>
<li>Participant invests in a Melon fund</li>
<li>Participant redeems from a Melon fund</li>
<li>Manager makes an order</li>
<li>Manager takes an order</li>
<li>Manager converts rewards into shares</li>
<li>Manager shuts down the fund</li>
</ul>
<p><strong>Setup of a new Melon fund</strong></p>
<p>A new Melon fund can be setup by specifying the following parameters via setupFund function of the version contract:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td><code>string</code></td>
<td>A human readable name of the fund</td>
</tr>
<tr>
<td>referenceAsset</td>
<td><code>address</code></td>
<td>Asset against which performance reward is measured against</td>
</tr>
<tr>
<td>managementRewardRate</td>
<td><code>uint</code></td>
<td>Reward rate in referenceAsset per delta improvement</td>
</tr>
<tr>
<td>performanceRewardRate</td>
<td><code>uint</code></td>
<td>Reward rate in referenceAsset per managed seconds</td>
</tr>
<tr>
<td>participation</td>
<td><code>address</code></td>
<td>Compliance module</td>
</tr>
<tr>
<td>riskMgmt</td>
<td><code>address</code></td>
<td>Risk management module</td>
</tr>
<tr>
<td>sphere</td>
<td><code>address</code></td>
<td>Sphere module</td>
</tr>
</tbody>
</table>
<p><strong>Participant invests in a Melon fund</strong></p>
<ol>
<li>A participant starts to invest in a fund F by first creating a subscription request R. Parameters to be specified are:</li>
</ol>
<table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>giveQuantity</td>
<td><code>uint</code></td>
<td>Quantity of Melon tokens to invest</td>
</tr>
<tr>
<td>shareQuantity</td>
<td><code>uint</code></td>
<td>Quantity of fund shares to receive</td>
</tr>
<tr>
<td>incentiveQuantity</td>
<td><code>uint</code></td>
<td>Quantity of Melon tokens to award the entity executing the request</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>R parameters are checked against restriction rules specified in the participation module P by the boolean function P.isSubscriptionPermitted (E.g Participant being an attested Uport identity).</li>
<li>R is then executed in by any entity via F.executeRequest after certain conditions are satisfied.  These conditions include if <em>currentTimestamp - R.timestamp &gt;= DF.INTERVAL</em> (DF refers to datafeed module and INTERVAL corresponds to update frequency value) and if <em>DF.getLastUpdateId &gt;= R.lastPriceFeedUpdateId + 2</em>. This is to minimize unfair advantage from information asymmetries associated with the investor.</li>
</ol>
<p><strong>Participant redeems from a Melon fund</strong></p>
<ol>
<li>A participant can redeem from a fund by first creating a redemption request. Parameters to be specified are:</li>
</ol>
<table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>shareQuantity</td>
<td><code>uint</code></td>
<td>Quantity of fund shares to redeem</td>
</tr>
<tr>
<td>receiveQuantity</td>
<td><code>uint</code></td>
<td>Quantity of Melon tokens to receive in return</td>
</tr>
<tr>
<td>incentiveQuantity</td>
<td><code>uint</code></td>
<td>Quantity of Melon tokens to award the entity executing the request</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>Request parameters are checked against restriction rules specified in the participation module P via the boolean function P.isRedemptionPermitted.</li>
<li>R is then executed in a similar way as mentioned earlier.</li>
</ol>
<p><strong>Manager makes an order</strong></p>
<ol>
<li>Manager can make an order by specifying asset pair, sell and buy quantities as parameters. Asset pair is checked against datafeed module DF through the function DF.existsPriceOnAssetPair. Order parameters are then checked against restriction rules specified in the risk management module R via the boolean function R.isMakePermitted.</li>
<li>The specified quantity of the asset is given allowance to the selected exchanging via ERC20’s approve function.</li>
<li>Order is then placed on the selected exchange through the exchangeAdapter contract E via E.makeOrder by specifying the exchange and order parameters as parameters.</li>
<li>The order is filled on the selected exchange (In future, can be any compatible decentralized exchange like OasisDex, Kyber, e.t.c)  when the price is met.</li>
</ol>
<p><strong>Manager takes an orders</strong></p>
<ol>
<li>Manager can take an order by specifying an order id and quantity as parameters. Asset pair is checked against datafeed module DF through the function DF.existsPriceOnAssetPair. Order parameters are then checked against restriction rules specified in the risk management module R via the boolean function R.isTakePermitted.</li>
<li>The specified quantity of the asset is given allowance to the selected exchanging via ERC20’s approve function.</li>
<li>Order id must correspond to a valid, existing order on the selected exchange. Order is then placed on the selected exchange through the exchangeAdapter contract E via E.takeOrder by specifying the exchange and order parameters as parameters.</li>
</ol>
<p><strong>Manager converts rewards into shares</strong></p>
<ol>
<li>Manager rewards in the form of ownerless shares of the fund F can be allocated to the manager via F.allocateUnclaimedRewards function. Ownerless shares refer to the quantity of shares, representing unclaimed rewards by the Manager such as rewards for managing the fund and for performance. First internal stats of F are calculated using F.performCalculations function. The quantity of unclaimedRewards is calculated internally using calcUnclaimedRewards function.</li>
<li>A share quantity of <em>unclaimedRewards * gav</em> (from Calculations) is assigned to the manager.</li>
</ol>
<p><strong>Manager shuts down the fund</strong></p>
<ol>
<li>A Manager can shut down a fund F he owns via F.shutdown function.</li>
<li>Investing, redemption (Only in reference asset, investors can still redeem in the form of percentage of held assets), managing, making / taking orders, allocateUnclaimedRewards are rendered disabled.</li>
</ol>
<h2>Get started</h2>
<h3>Installation</h3>
<p>You will need the <code>dapp</code> developer tools, which you can install using <a href="http://dapp.tools/">these steps</a>.</p>
<ol>
<li>
<p>Clone this repository</p>
<pre><code>git clone --recursive git@github<span class="hljs-selector-class">.com</span>:melonproject/protocol<span class="hljs-selector-class">.git</span>
cd protocol
</code></pre>
</li>
<li>
<p>Install dependencies</p>
<pre><code>npm <span class="hljs-keyword">install</span>
</code></pre>
</li>
<li>
<p>Generate bytecode and abi of smart-contracts using <a href="https://github.com/dapphub/dapp">dapp</a> suite</p>
<pre><code>npm <span class="hljs-keyword">run</span><span class="bash"> compile
</span></code></pre>
</li>
</ol>
<h3>Testing</h3>
<p>After installation is complete, go to the above <code>protocol</code> directory, open a terminal and:</p>
<ol>
<li>
<p>Launch a parity dev chain with the provided genesis settings file</p>
<pre><code><span class="hljs-built_in">parity</span> --chain test/<span class="hljs-built_in">parity</span>-genesis.config --jsonrpc-apis <span class="hljs-built_in">all</span>
</code></pre>
</li>
<li>
<p>Import the predefined accounts into parity and fund them by executing:</p>
<pre><code>npm <span class="hljs-keyword">run</span><span class="bash"> beforeTests
</span></code></pre>
</li>
<li>
<p>Close the already running parity instance and run:</p>
<pre><code><span class="hljs-comment">parity</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">chain</span> <span class="hljs-comment">test/parity</span><span class="hljs-literal">-</span><span class="hljs-comment">genesis</span><span class="hljs-string">.</span><span class="hljs-comment">config</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">unlock</span> <span class="hljs-comment">0x00248D782B4c27b5C6F42FEB3f36918C24b211A5</span><span class="hljs-string">,</span><span class="hljs-comment">0x00660f1C570b9387B9fA57Bbdf6804d82a9FDC53</span><span class="hljs-string">,</span><span class="hljs-comment">0x00b71117fff2739e83CaDBA788873AdCe169563B</span><span class="hljs-string">,</span><span class="hljs-comment">0x0015248B433A62FB2d17E19163449616510926B6</span><span class="hljs-string">,</span><span class="hljs-comment">0x00f18CD3EA9a97828861AC9C965D09B94fcE746E</span><span class="hljs-string">,</span><span class="hljs-comment">0x0089C3fB6a503c7a1eAB2D35CfBFA746252aaD15</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">password=password</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">force</span><span class="hljs-literal">-</span><span class="hljs-comment">ui</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">no</span><span class="hljs-literal">-</span><span class="hljs-comment">persistent</span><span class="hljs-literal">-</span><span class="hljs-comment">txqueue</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">jsonrpc</span><span class="hljs-literal">-</span><span class="hljs-comment">apis</span> <span class="hljs-comment">all</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">reseal</span><span class="hljs-literal">-</span><span class="hljs-comment">min</span><span class="hljs-literal">-</span><span class="hljs-comment">period</span> <span class="hljs-comment">0</span>
</code></pre>
</li>
<li>
<p>Open a second terminal and deploy the contracts to the development network:</p>
<pre><code>npm <span class="hljs-builtin-name">run</span> compile &amp;&amp; npm <span class="hljs-builtin-name">run</span> deploy:development
</code></pre>
</li>
<li>
<p>Compile all the contracts:</p>
<pre><code>npm <span class="hljs-keyword">run</span><span class="bash"> compile
</span></code></pre>
</li>
<li>
<p>Run the test framework:</p>
<pre><code>npm <span class="hljs-built_in">test</span>
</code></pre>
</li>
</ol>
<h3>Linting</h3>
<p>After installation is complete, go to the above <code>protocol</code> directory, open a terminal and run:</p>
<p><code>npm run lint</code></p>
<h3>Deployment</h3>
<p>After installation is complete, go to the above <code>protocol</code> directory, open a terminal and:</p>
<ol>
<li>
<p>Launch an ethereum client. For example something similar to this:</p>
<pre><code><span class="hljs-comment">parity</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">chain</span> <span class="hljs-comment">kovan</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">author</span> &lt;<span class="hljs-comment">some</span> <span class="hljs-comment">address</span>&gt; <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">unlock</span> &lt;<span class="hljs-comment">some</span> <span class="hljs-comment">address</span>&gt; <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">password</span> &lt;<span class="hljs-comment">some</span> <span class="hljs-comment">password</span> <span class="hljs-comment">file</span>&gt;
</code></pre>
</li>
<li>
<p>Open a second terminal and deploy the contracts:</p>
<pre><code>npm <span class="hljs-keyword">run</span><span class="bash"> deploy:kovan
</span></code></pre>
</li>
</ol>
<h2>Contribute</h2>
<p>As an open-source project we welcome any kind of community involvement. Whether that is by contributing code, reporting issues or engaging in insightful discussions.</p>
<h3>Security Issues</h3>
<p>If you find a vulnerability that may affect live or kovan deployments please send your report privately to <a href="mailto:admin@melonport.com">admin@melonport.com</a>. Please DO NOT file a public issue.</p>
<h3>Protocol Design</h3>
<p>When considering protocol design proposals, we are looking for:</p>
<ul>
<li>A description of the problem this design proposal solves</li>
<li>Discussion of the tradeoffs involved</li>
<li>Review of other existing solutions</li>
<li>Links to relevant literature (RFCs, papers, etc)</li>
<li>Discussion of the proposed solution</li>
</ul>
<p>Please note that protocol design is hard, and meticulous work. You may need to review existing literature and think through generalized use cases.</p>
<h3>Implementation Design</h3>
<p>When considering design proposals for implementations, we are looking for:</p>
<ul>
<li>A description of the problem this design proposal solves</li>
<li>Discussion of the tradeoffs involved</li>
<li>Discussion of the proposed solution</li>
</ul>
</div></div></div><div class="ui container footer" data-reactid="16"><div class="ui small top attached compact secondary segment" data-reactid="17"><div class="ui stackable grid" data-reactid="18"><div class="row" data-reactid="19"><div class="six wide column" data-reactid="20"><b data-reactid="21"><!-- react-text: 22 -->© <!-- /react-text --><!-- react-text: 23 -->“Melonport AG &lt;“team@melonport.com”&gt;<!-- /react-text --></b><!-- react-text: 24 --> - <!-- /react-text --><!-- react-text: 25 -->GPL-3.0<!-- /react-text --><!-- react-text: 26 -->, <!-- /react-text --><!-- react-text: 27 -->2017<!-- /react-text --></div><div class="right aligned ten wide column" data-reactid="28"><!-- react-text: 29 -->Docs built using <!-- /react-text --><b data-reactid="30"><!-- react-text: 31 -->Solidity <!-- /react-text --></b><!-- react-text: 32 --> on <!-- /react-text --><b data-reactid="33">2017-11-17</b></div></div></div></div></div></div></div><script src="/protocol/bundle.js?t=1510932491306"></script></body></html>